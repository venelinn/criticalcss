"use strict";var VN=window.VN||{};VN.Portfolio=function(e){var n={_init:function(){n._addEventListeners(),n._formValidation(),n._modal(),n._scroll(),n._retriveData()},_addEventListeners:function(){e(document).on("click",".jsModalDismiss",function(n){n.preventDefault(),e.magnificPopup.close()})},_retriveData:function(){e.getJSON("/portfolio.json",n._renderDataVisualsTemplate)},_renderDataVisualsTemplate:function(e){n._renderHandlebarsTemplate("/portfolio.handlebars",".jsFolioWrapper",e)},_getTemplateAjax:function(n,a){var t,o;e.ajax({url:n,success:function(e){t=e,o=Handlebars.compile(t),a&&a(o)}})},_hasWebP:function(){var n=e.Deferred(),a=new Image;return a.onload=function(){n.resolve()},a.onerror=function(){n.reject()},a.src="http://www.gstatic.com/webp/gallery/1.webp",n.promise()},_renderHandlebarsTemplate:function(a,t,o){n._getTemplateAjax(a,function(n){e(t).html(n(o))})},_modal:function(){e(".jsFolioWrapper").on("click",".jsFolioItem a",function(n){n.preventDefault();var a=e(this).attr("href");e.magnificPopup.open({items:{src:a},type:"inline",gallery:{enabled:!0},fixedContentPos:!1,removalDelay:300,showCloseBtn:!1,mainClass:"mfp-fade"})})},_scroll:function(){e(".jsSmoothScroll").on("click",function(n){n.preventDefault();var a=this.hash,t=e(a);e("html, body").stop().animate({scrollTop:t.offset().top},500,"swing",function(){window.location.hash=a})})},_formValidation:function(){e(".jsContactForm").validate({submitHandler:function(n){var a=e("#submit-loader");e.ajax({type:"POST",url:"inc/sendEmail.php",data:e(n).serialize(),beforeSend:function(){a.fadeIn()},success:function(n){"OK"==n?(a.fadeOut(),e("#message-warning").hide(),e("#contactForm").fadeOut(),e("#message-success").fadeIn()):(a.fadeOut(),e("#message-warning").html(n),e("#message-warning").fadeIn())},error:function(){a.fadeOut(),e("#message-warning").html("Something went wrong. Please try again."),e("#message-warning").fadeIn()}})}})}};e(function(){n._init()})}($);